<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<link rel="stylesheet" type="text/css" href="lib/Validform_v5.3.2/css/style.css" />
		<link rel="stylesheet" type="text/css" href="css/reset.css" />
		<link rel="stylesheet" type="text/css" href="css/public.css" />
		<link rel="stylesheet" type="text/css" href="css/user/user_public.css" />
		<link rel="stylesheet" type="text/css" href="css/user/user_password.css" />
	</head>
	<body>
		<div class="heard_top_get"></div>
		<div class="head_get"></div>
		<div class="content">
			<div class="container clearfix">
				<div class=" fl left_box"></div>
				<div class="fl right_box">
					<div class="right_title">更改密码</div>
					<div class="right_content_box ">
						<div class="right_content">
							<div class="main">
								<div class="top_img clearfix">
									<div class="stepModule fl">
										<i class="user_pass_icon first_icon"></i>
										<div class="imageText">
											<span>1.验证身份</span>
										</div>

									</div>
									<i class="RightArrow fl"></i>
									<div class="stepModule fl">
										<i class="user_pass_icon second_icon"></i>
										<div class="imageText now">
											<span>2.设置密码</span>
										</div>
									</div>
									<i class="RightArrow fl"></i>
									<div class="stepModule fl">
										<i class="user_pass_icon third_icon"></i>
										<div class="imageText">
											<span>3.完成</span>
										</div>
									</div>
								</div>
								<form class="form ">
									<div class="list">
										<p>输入旧密码</p>
										<div class="relative input_box">
											<i class="err_icon errorRed"></i>
											<div class="errorRedLine"></div>
											<input type="password" name="password" id="pass" datatype="*8-16" placeholder="请输入旧密码" errormsg="" />
										</div>
										<div class="errorTip clearfix">
											<i class="err_icon errorRedIcon vertical_mid fl"></i>
											<span class="errorFont vertical_mid fl"></span>
										</div>
									</div>
									<div class="list">
										<p>设置新密码</p>
										<div class="relative input_box">
											<i class="err_icon errorRed"></i>
											<div class="errorRedLine"></div>
											<input type="password" name="newpassword" id="newpass" datatype="*8-16" placeholder="8-16位大小写字母、数字和特殊符号的组合"
											 errormsg="请输入不能少于8位密码" />
										</div>
										<div class="errorTip clearfix">
											<i class="err_icon errorRedIcon vertical_mid fl"></i>
											<span class="errorFont vertical_mid fl"></span>
										</div>
									</div>
									<div class="list">
										<p>确认新密码</p>
										<div class="relative input_box">
											<i class="err_icon errorRed"></i>
											<div class="errorRedLine"></div>
											<input type="password" name="userpassword2" id="" datatype="*" recheck="newpassword" placeholder="请再次输入密码"
											 errormsg="" />
										</div>
										<div class="errorTip clearfix">
											<i class="err_icon errorRedIcon vertical_mid fl"></i>
											<span class="errorFont vertical_mid fl"></span>
										</div>
									</div>
									<button type="submit" class="btn">提交</button>
								</form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="foot_log"></div>
		<div class="foot_get"></div>
		<script src="js/jquery-3.4.1.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="lib/Validform_v5.3.2/js/Validform_v5.3.2_min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/user_public.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			$(function() {
				$('.heard_top_get').load('heard_top.html');
				$('.foot_get').load('footer.html');
				$('.head_get').load('head.html');
				$('.left_box').load('user_public.html');
				$('.foot_log').load('footer_log.html')
			});
		</script>
		<script type="text/javascript">
			var cookie = document.cookie;
			cookie = cookie.replace(/=/g, ';');
			var arr = cookie.split(';');
			var password = document.querySelector('#pass');
			password.value = arr[9];

			$('.form').Validform({
				tiptype: function(msg, o, cssctl) {
					if (!o.obj.is("form")) {
						var objtip = o.obj.parent('.input_box').siblings('.errorTip ').children(".errorRedIcon");
						var red = o.obj.siblings('.errorRed ');
						var redline = o.obj.siblings('.errorRedLine ');
						var text = o.obj.parent('.input_box').siblings('.errorTip ').children(".errorFont ");
						if (o.type != 2) {
							objtip.css('opacity', '1');
							red.css('display', 'block');
							redline.css('display', 'block');
							text.text(msg);
						} else {
							text.text('');
							objtip.css('opacity', '0');
							red.css('display', 'none');
							redline.css('display', 'none');
						}
						console.log(o.obj.is("form"))

					} else {
					}
				},
				beforeSubmit: function(curform) {
					var userpass = $('#newpass').val();
					document.cookie = "userpass=" + userpass;
					$(location).attr('href','login.html');
					return false;
					
				}
			})
			
		</script>
	</body>
</html>
